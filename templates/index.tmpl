<div class="pure-g topnav theme-background">
		<!-- left side -->
		<div class="pure-u-1 pure-u-sm-2-3 pure-u-md-2-3 pure-u-lg-4-5 pure-u-xl-4-5">
				<span class="topnav-brand">CASGO</span>
				<ul class="topnav-list">
						<li class="topnav-list-item" data-bind="css: {active: currentRouteUrlHasPrefix('/services')}">
								<a id="topnav-services-link" class="topnav-list-item-link" href="#/services">
										<i class="fa fa-cloud"></i> Services
								</a>
						</li>
						{{if .currentUser.IsAdmin}}
						<li class="topnav-list-item" data-bind="css: {active: currentRouteUrlHasPrefix('/manage')}">
								<a id="topnav-manage-link" class="topnav-list-item-link white-on-hover" href="#/manage">
										<i class="fa fa-cogs"></i> Manage
								</a>
								<!-- drop down with services, users, the basic /admin endpoint -->
						</li>
						<li class="topnav-list-item" data-bind="css: {active: currentRouteUrlHasPrefix('/statistics')}">
								<a id="topnav-statistics-link" class="topnav-list-item-link white-on-hover" href="#/statistics">
										<i class="fa fa-area-chart"></i> Statistics
								</a>
						</li>
						{{end}}
				</ul>
		</div>

		<!-- Right side -->
		<div class="pure-u-1 pure-u-sm-1-3 pure-u-md-1-3 pure-u-lg-1-5 pure-u-xl-1-5">
				<ul class="pull-right topnav-list">
						<li class="topnav-list-item medium-font">
								<div>
										<i class="fa fa-user"></i> <span data-bind="text: SessionService.currentUser().email"></span>
								</div>
								<!-- drop down with option to logout -->
						</li>
						<li class="topnav-list-item medium-font">
								<div>
										<a class="plain white-on-hover" href="/logout"><i class="fa fa-sign-out"></i> Logout</a>
								</div>
								<!-- drop down with option to logout -->
						</li>
				</ul>
		</div>
</div>

<div class="content-wrap">
		<div class="pure-g full-height">
				<div class="pure-u-1 centered-text full-height">

						<!-- Pages -->
						<div class="full-height" data-bind="visible: currentRouteUrlHasPrefix('/services'), template: {name: 'ServicesTemplate', data: ServicesCtrl}"></div>
						<div class="full-height" data-bind="visible: currentRouteUrlHasPrefix('/manage'), template: {name: 'ManageTemplate', data: ManageCtrl}"></div>
						<div class="full-height" data-bind="visible: currentRouteUrlHasPrefix('/statistics'), template: {name: 'StatisticsTemplate', data: StatisticsCtrl}"></div>
				</div>
		</div>
</div>

<div class="footer light-black centered-text theme-background">
		Made with <i class="fa fa-heart"></i> in Austin, TX, by <strong><a class="plain" href="http://vadosware.io">vadosware</a> (<a class="plain" href="https://twitter.com/vadosware">@vadosware</a>)</strong>
		<br/>
		Built with <strong><a class="plain" href="http://golang.org">Golang</a></strong>, hosted on <strong><a class="plain" href="http://github.com/t3hmrman/casgo">Github <i class="fa fa-github"></i></a></strong>
</div>

<!-- Templates -->
<script type="text/html" id="ServicesTemplate">
		<div class="pure-g full-height">
				<div class="pure-u-xs-1-12 pure-u-sm-1-12 pure-u-md-1-5 pure-u-lg-1-5 pure-u-xl-1-5"></div>

        <div class="pure-u-xs-10-12 pure-u-sm-10-12 pure-u-md-3-5 pure-u-lg-3-5 pure-u-xl-3-5">
		        <h2>Services</h2>
		        <h3>Services you're authorized to use</h3>


            <div class="no-services-warning" data-bind="if: pagedServices().length === 0">
                <h3>Uh-oh, it looks like you're not authorized to use any services yet.</h3>
                <h3>Please check with your CASGO administrator and get authorized!</h3>
            </div>

				    <div id="services-list" class="services-list" data-bind="foreach: pagedServices">
						    <div class="pure-u-1-2 pure-u-xs-1-2 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-5 services-list-item">
								    <span data-bind="text: name"></span>
						    </div>
				    </div>
        </div>

				<div class="pure-u-xs-1-12 pure-u-sm-1-12 pure-u-md-1-5 pure-u-lg-1-5 pure-u-xl-1-5"></div>
		</div>
</script>

<script type="text/html" id="ManageTemplate">
		<div class="pure-g full-height">

        <!-- Left navigation -->
				<div class="pure-u-xs-1 pure-u-sm-1 pure-u-md-1-5 pure-u-lg-1-6 pure-u-xl-1-8 leftnav full-height">
						<ul class="leftnav-list">
                
								<li class="leftnav-list-item" data-bind="css: {active: $root.currentRouteUrlIs('/manage/users')}">
                    <a class="plain" href="#/manage/users">
                        <i class="fa fa-group"></i> Users
                    </a>
                </li>
                
								<li class="leftnav-list-item" data-bind="css: {active: $root.currentRouteUrlIs('/manage/services')}">
                    <a class="plain" href="#/manage/services">
                        <i class="fa fa-cloud"></i> Services
                    </a>
                </li>

						</ul>
				</div>

        <!-- Center content -->
				<div class="pure-u-xs-1 pure-u-sm-1 pure-u-md-4-5 pure-u-lg-5-6 pure-u-xl-7-8 content full-height">
						<div data-bind="visible: $root.currentRouteUrl() === '/manage'">
						    <h2>Manage Casgo</h2>
						    <h3>Manage your Casgo instance and server</h3>
            </div>
						<div data-bind="visible: $root.currentRouteUrl() === '/manage/users', template: {name: 'ManageUsersTemplate', data: $root.ManageUsersCtrl}"></div>
						<div data-bind="visible: $root.currentRouteUrl() === '/manage/services', template: {name: 'ManageServicesTemplate', data: $root.ManageServicesCtrl}"></div>
				</div>

        <!-- Right sidebar -->
        <div class="right-sidebar left-aligned-text pure-u-1-2" data-bind="style: {right: getSidebarCSSRight()}">
						<div data-bind="visible: $root.currentRouteUrl() === '/manage/services', template: {name: sidebarTemplateName(), data: sidebarController()}"></div>
        </div>

		</div>
</script>

<script type="text/html" id="EditServiceFormTemplate">
    <div class="top-subnav right-aligned-text">
        <button class="pure-button pull-left" data-bind="click: $parent.hideSidebar"><i class="fa fa-arrow-right"></i> Close</button>
        <button class="pure-button button-success" data-bind="click: createOrUpdateService">
            <i class="fa fa-save"></i> <span data-bind="text: actionText"></span>
        </button>
        <button class="pure-button button-error" data-bind="click: removeService">
            <i class="fa fa-trash"></i> Remove Service
        </button>
    </div>

    <div class="pure-g">
        <div class="pure-u-1-7"></div>
        <div class="pure-u-5-7">
            <div class="pure-u-1">
                <div class="slim-pad">
                    <h2>
                        <span data-bind="text: actionText"></span>
                        <span data-bind="if: !_.isEmpty(currentSvc())">
                            (<span data-bind="text: currentSvc().name"></span>)
                        </span>
                    </h2>
                    <form id="frmEditService" class="pure-form pure-form-stacked">
                        <fieldset>
                            <label for="name">Name of the service</label>
                            <input id="name" class="pure-input-2-3" type="text" data-bind="value: currentSvc().name" name="name" placeholder="Service Name" disabled>

                            <br/>
                            <label for="url">URL (callback URL)</label>
                            <input id="url" class="pure-input-2-3" type="text" data-bind="value: currentSvc().url" name="url" type="url"  placeholder="Service URL">

                            <br/>
                            <label for="adminEmail">Administrator's email address</label>
                            <input id="adminEmail" class="pure-input-2-3" type="email" data-bind="value: currentSvc().adminEmail" name="adminEmail" placeholder="Admin's email">
                        </fieldset>
                    </form>
                </div> <!-- /div.slim-pad -->
            </div> <!-- /div.pure-u-1 -->
        </div>
        <div class="pure-u-1-7"></div>
    </div>
</script>

<script type="text/html" id="ManageUsersTemplate">
		<h2>Manage Users</h2>
		<h3>Manage the users connected to Casgo</h3>

		<ul class="users-list" data-bind="foreach: users">
				<li class="users-list-item">
						<span data-bind="name"></span>
				</li>
		</ul>
</script>

<script type="text/html" id="ManageServicesTemplate">
    <div class="top-subnav right-aligned-text">
        <button class="pure-button button-success" data-bind="click: $parent.showAddServiceInSidebar"><i class="fa fa-plus"></i> Add Service</button>
    </div>

		<h2>Manage Services</h2>
		<h3>Manage the services available to your users</h3>

    <div class="no-services-warning" data-bind="if: pagedServices().length === 0">
        <h3>Uh-oh, it looks like you're not authorized to use any services yet.</h3>
        <h3>Please check with your CASGO administrator and get authorized!</h3>
    </div>

		<div id="services-list" class="services-list" data-bind="foreach: pagedServices">
				<div class="pure-u-1-2 pure-u-xs-1-2 pure-u-sm-1-2 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-5 services-list-item">
						<span data-bind="text: name"></span>
            <div class="services-list-item-menu right-aligned-text" data-bind="click: $parents[1].showEditServiceInSidebar">
                <a href="javascript:void(0)" class="plain slim-margin"><i class="fa fa-pencil"></i></a>
            </div>
				</div>
		</div>
</script>

<script type="text/html" id="StatisticsTemplate">
    <div class="pure-g full-height">
		    <div class="pure-g">
		        <h2 class="pure-u-1">Users at a glance</h2>
				    <div class="stat-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Graph!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Number statistic!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Text!</div>
		    </div>

		    <div class="pure-g">
		        <h2 class="pure-u-1">Services at a glance</h2>
				    <div class="stat-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Graph!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Number statistic!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Text!</div>
		    </div>

		    <div class="pure-g">
		        <h2 class="pure-u-1">Server at a glance</h2>
				    <div class="stat-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Graph!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Number statistic!</div>
				    <div class="stats-widget-container pure-u-1 pure-u-md-1-3 pure-u-lg-1-3 pure-u-xl-1-3">Text!</div>
		    </div>

    </div>
</script>


<!-- Scripts -->
<script type="text/javascript" src="../public/vendor/lodash/dist/lodash.min.js"></script>
<script type="text/javascript" src="../public/vendor/es6-promise/promise.min.js"></script>
<script type="text/javascript" src="../public/vendor/fetch/fetch.js"></script>
<script type="text/javascript" src="../public/vendor/director/build/director.min.js"></script>
<script type="text/javascript" src="../public/vendor/knockout/dist/knockout.js"></script>
<script type="text/javascript" src="../public/js/casgo.js"></script>
<script type="text/javascript" src="../public/js/routes.js"></script>
